<Addin id        = "VersionControl.Mercurial"
       namespace = "MonoDevelop"
       name      = "Mercurial support for the Version Control Addin"
       author    = "Levi Bard"
       copyright = "GPL"
       url       = ""
       description = "Mercurial support for the Version Control Addin"
       category    = "Version Control"
       version   = "2.5.1">
 
	<Runtime>
		<Import assembly="MonoDevelop.VersionControl.Mercurial.dll"/>
		<Import file="MonoDevelop.VersionControl.Mercurial.dll.config"/>
	</Runtime>

	<Dependencies>
		<Addin id="Core" version="2.4"/>
		<Addin id="Ide" version="2.4"/>
		<Addin id="VersionControl" version="2.4"/>
	</Dependencies>
	
	<Extension path = "/MonoDevelop/VersionControl/VersionControlSystems">
		<Class class = "MonoDevelop.VersionControl.Mercurial.MercurialVersionControl" />
	</Extension>

	<Extension path="/MonoDevelop/Ide/MainMenu/File">
		<CommandItem id="MonoDevelop.VersionControl.Mercurial.MercurialCommands.Branch" insertafter="MonoDevelop.VersionControl.Commands.Checkout" />
	</Extension>	

	<Extension path = "/MonoDevelop/Ide/Pads/ProjectPad">
		<NodeBuilder class = "MonoDevelop.VersionControl.Mercurial.MercurialNodeExtension" insertbefore="VersionControlNodeExtension" />
	</Extension>
	

	<Extension path = "/MonoDevelop/Ide/ContextMenu/ProjectPad/VersionControl">
		<Condition id="ItemType" value="Project|WorkspaceItem">
			<CommandItem id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Resolve" insertafter="MonoDevelop.VersionControl.Commands.Revert" />
			<CommandItem id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Pull" insertafter="MonoDevelop.VersionControl.Commands.Update" />
			<CommandItem id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Merge" insertafter="MonoDevelop.VersionControl.Mercurial.MercurialCommands.Pull" />
			<CommandItem id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Bind" insertafter="MonoDevelop.VersionControl.Mercurial.MercurialCommands.Merge" />
			<CommandItem id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Unbind" insertafter="MonoDevelop.VersionControl.Mercurial.MercurialCommands.Bind" />
			<CommandItem id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Uncommit" insertafter="MonoDevelop.VersionControl.Commands.Commit" />
			<CommandItem id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Export" insertafter="MonoDevelop.VersionControl.Commands.Log" />
		</Condition>
		<Condition id="ItemType" value="IFileItem">
			<CommandItem id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Resolve" insertafter="MonoDevelop.VersionControl.Commands.Revert" />
			<CommandItem id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Ignore" insertafter="MonoDevelop.VersionControl.Commands.Revert" />
		</Condition>
		<Condition id="ItemType" value="Solution">
			<CommandItem id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Init" />
		</Condition>
	</Extension>
	
	<Extension path = "/MonoDevelop/VersionControl/StatusViewCommands">
		<CommandItem id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Resolve" 
		             insertafter= "MonoDevelop.VersionControl.Commands.Revert"
		             type= "MonoDevelop.VersionControl.Mercurial.MercurialCommandHandler" />
	</Extension>
	
	<Extension path = "/MonoDevelop/Ide/Commands/VersionControl">
		<Command id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Resolve" 
			_label = "Resolve"
			icon = "vc-resolve-command"
			description = "Resolve conflicts on working copy files or directories." />
		<Command id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Pull" 
			_label = "Pull"
			icon = "vc-update" 
			description = "Turn this branch into a mirror of another branch." />
		<Command id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Merge" 
			_label = "Merge"
			description = "Perform a three-way merge." />
		<Command id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Branch"
			defaultHandler = "MonoDevelop.VersionControl.Mercurial.BranchCommand" 
			_label = "_Clone"
			icon = "vc-update" 
			description = "Create a new copy of a branch." />
		<Command id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Init"
			_label = "_New Mercurial Repository"
			icon = "vc-add" 
			description = "Create a new Mercurial repository for the solution." />
		<Command id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Ignore"
			_label = "_Ignore"
			description = "Instruct Mercurial to ignore this file." />
		<Command id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Bind"
			_label = "_Bind"
			description = "Convert the current branch into a checkout." />
		<Command id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Unbind"
			_label = "_Unbind"
			description = "Convert the current checkout into a regular branch." />
		<Command id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Uncommit"
			_label = "_Uncommit"
			icon = "vc-revert-command" 
			description = "Remove the last committed revision." />
		<Command id = "MonoDevelop.VersionControl.Mercurial.MercurialCommands.Export"
			_label = "E_xport"
			description = "Export to a directory or archive." />
	</Extension>
</Addin>
